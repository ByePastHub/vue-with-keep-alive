import{r as Ee,o as U,c as Y,w as Le,K as be,a as Te,b as Oe,d as Re,T as ne,e as oe,f as q,g as ie,h as Ce,i as W,j as Ne,k as z,l as Pe,m as ae,n as ke,p as Ae}from"./vendor.11e7358a.js";const Se=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function r(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerpolicy&&(u.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?u.credentials="include":s.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(s){if(s.ep)return;s.ep=!0;const u=r(s);fetch(s.href,u)}};Se();const $e="modulepreload",se={},je="/vue-with-keep-alive/example/",J=function(t,r){return!r||r.length===0?t():Promise.all(r.map(a=>{if(a=`${je}${a}`,a in se)return;se[a]=!0;const s=a.endsWith(".css"),u=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const h=document.createElement("link");if(h.rel=s?"stylesheet":$e,s||(h.as="script",h.crossOrigin=""),h.href=a,document.head.appendChild(h),s)return new Promise((f,d)=>{h.addEventListener("load",f),h.addEventListener("error",d)})})).then(()=>t())};function ue(o,t,r,a,s,u,h){try{var f=o[u](h),d=f.value}catch(E){r(E);return}f.done?t(d):Promise.resolve(d).then(a,s)}function ce(o){return function(){var t=this,r=arguments;return new Promise(function(a,s){var u=o.apply(t,r);function h(d){ue(u,a,s,h,f,"next",d)}function f(d){ue(u,a,s,h,f,"throw",d)}h(void 0)})}}var le={exports:{}};(function(o){var t=function(r){var a=Object.prototype,s=a.hasOwnProperty,u,h=typeof Symbol=="function"?Symbol:{},f=h.iterator||"@@iterator",d=h.asyncIterator||"@@asyncIterator",E=h.toStringTag||"@@toStringTag";function v(n,e,i){return Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),n[e]}try{v({},"")}catch{v=function(e,i,l){return e[i]=l}}function m(n,e,i,l){var c=e&&e.prototype instanceof D?e:D,p=Object.create(c.prototype),w=new M(l||[]);return p._invoke=ge(n,i,w),p}r.wrap=m;function y(n,e,i){try{return{type:"normal",arg:n.call(e,i)}}catch(l){return{type:"throw",arg:l}}}var T="suspendedStart",O="suspendedYield",S="executing",N="completed",b={};function D(){}function $(){}function R(){}var I={};v(I,f,function(){return this});var K=Object.getPrototypeOf,j=K&&K(K(H([])));j&&j!==a&&s.call(j,f)&&(I=j);var P=R.prototype=D.prototype=Object.create(I);$.prototype=R,v(P,"constructor",R),v(R,"constructor",$),$.displayName=v(R,E,"GeneratorFunction");function ee(n){["next","throw","return"].forEach(function(e){v(n,e,function(i){return this._invoke(e,i)})})}r.isGeneratorFunction=function(n){var e=typeof n=="function"&&n.constructor;return e?e===$||(e.displayName||e.name)==="GeneratorFunction":!1},r.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,R):(n.__proto__=R,v(n,E,"GeneratorFunction")),n.prototype=Object.create(P),n},r.awrap=function(n){return{__await:n}};function G(n,e){function i(p,w,g,L){var _=y(n[p],n,w);if(_.type==="throw")L(_.arg);else{var F=_.arg,A=F.value;return A&&typeof A=="object"&&s.call(A,"__await")?e.resolve(A.__await).then(function(C){i("next",C,g,L)},function(C){i("throw",C,g,L)}):e.resolve(A).then(function(C){F.value=C,g(F)},function(C){return i("throw",C,g,L)})}}var l;function c(p,w){function g(){return new e(function(L,_){i(p,w,L,_)})}return l=l?l.then(g,g):g()}this._invoke=c}ee(G.prototype),v(G.prototype,d,function(){return this}),r.AsyncIterator=G,r.async=function(n,e,i,l,c){c===void 0&&(c=Promise);var p=new G(m(n,e,i,l),c);return r.isGeneratorFunction(e)?p:p.next().then(function(w){return w.done?w.value:p.next()})};function ge(n,e,i){var l=T;return function(p,w){if(l===S)throw new Error("Generator is already running");if(l===N){if(p==="throw")throw w;return re()}for(i.method=p,i.arg=w;;){var g=i.delegate;if(g){var L=te(g,i);if(L){if(L===b)continue;return L}}if(i.method==="next")i.sent=i._sent=i.arg;else if(i.method==="throw"){if(l===T)throw l=N,i.arg;i.dispatchException(i.arg)}else i.method==="return"&&i.abrupt("return",i.arg);l=S;var _=y(n,e,i);if(_.type==="normal"){if(l=i.done?N:O,_.arg===b)continue;return{value:_.arg,done:i.done}}else _.type==="throw"&&(l=N,i.method="throw",i.arg=_.arg)}}}function te(n,e){var i=n.iterator[e.method];if(i===u){if(e.delegate=null,e.method==="throw"){if(n.iterator.return&&(e.method="return",e.arg=u,te(n,e),e.method==="throw"))return b;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var l=y(i,n.iterator,e.arg);if(l.type==="throw")return e.method="throw",e.arg=l.arg,e.delegate=null,b;var c=l.arg;if(!c)return e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,b;if(c.done)e[n.resultName]=c.value,e.next=n.nextLoc,e.method!=="return"&&(e.method="next",e.arg=u);else return c;return e.delegate=null,b}ee(P),v(P,E,"Generator"),v(P,f,function(){return this}),v(P,"toString",function(){return"[object Generator]"});function _e(n){var e={tryLoc:n[0]};1 in n&&(e.catchLoc=n[1]),2 in n&&(e.finallyLoc=n[2],e.afterLoc=n[3]),this.tryEntries.push(e)}function V(n){var e=n.completion||{};e.type="normal",delete e.arg,n.completion=e}function M(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(_e,this),this.reset(!0)}r.keys=function(n){var e=[];for(var i in n)e.push(i);return e.reverse(),function l(){for(;e.length;){var c=e.pop();if(c in n)return l.value=c,l.done=!1,l}return l.done=!0,l}};function H(n){if(n){var e=n[f];if(e)return e.call(n);if(typeof n.next=="function")return n;if(!isNaN(n.length)){var i=-1,l=function c(){for(;++i<n.length;)if(s.call(n,i))return c.value=n[i],c.done=!1,c;return c.value=u,c.done=!0,c};return l.next=l}}return{next:re}}r.values=H;function re(){return{value:u,done:!0}}return M.prototype={constructor:M,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(V),!n)for(var e in this)e.charAt(0)==="t"&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var n=this.tryEntries[0],e=n.completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function i(L,_){return p.type="throw",p.arg=n,e.next=L,_&&(e.method="next",e.arg=u),!!_}for(var l=this.tryEntries.length-1;l>=0;--l){var c=this.tryEntries[l],p=c.completion;if(c.tryLoc==="root")return i("end");if(c.tryLoc<=this.prev){var w=s.call(c,"catchLoc"),g=s.call(c,"finallyLoc");if(w&&g){if(this.prev<c.catchLoc)return i(c.catchLoc,!0);if(this.prev<c.finallyLoc)return i(c.finallyLoc)}else if(w){if(this.prev<c.catchLoc)return i(c.catchLoc,!0)}else if(g){if(this.prev<c.finallyLoc)return i(c.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(n,e){for(var i=this.tryEntries.length-1;i>=0;--i){var l=this.tryEntries[i];if(l.tryLoc<=this.prev&&s.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var c=l;break}}c&&(n==="break"||n==="continue")&&c.tryLoc<=e&&e<=c.finallyLoc&&(c=null);var p=c?c.completion:{};return p.type=n,p.arg=e,c?(this.method="next",this.next=c.finallyLoc,b):this.complete(p)},complete:function(n,e){if(n.type==="throw")throw n.arg;return n.type==="break"||n.type==="continue"?this.next=n.arg:n.type==="return"?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):n.type==="normal"&&e&&(this.next=e),b},finish:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===n)return this.complete(i.completion,i.afterLoc),V(i),b}},catch:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===n){var l=i.completion;if(l.type==="throw"){var c=l.arg;V(i)}return c}}throw new Error("illegal catch attempt")},delegateYield:function(n,e,i){return this.delegate={iterator:H(n),resultName:e,nextLoc:i},this.method==="next"&&(this.arg=u),b}},r}(o.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(le);var x=le.exports,fe="KEEP_BEFORE_ROUTE_CHANGE",he="KEEP_ROUTE_CHANGE",de="KEEP_COMPONENT_DESTROY",k="reLaunch",Ge="ALL";function pe(o,t){var r,a=(r=o.constructor.version)===null||r===void 0?void 0:r.replace(/\.(\d+)$/,"$1");if(a<3.5){console.error("vue-with-keep-alive: vue-router version is lower than 3.5.0, please upgrade vue-router");return}var s=t?o:o.getRoutes();s.forEach(function(u){var h,f;if(!!(u!=null&&(h=u.components)!==null&&h!==void 0&&h.default)){if(((f=u.children)===null||f===void 0?void 0:f.length)>0&&pe(u.children,!0),typeof u.components.default=="function"){var d=u.components.default;return u.components.default=ce(x.mark(function E(){var v;return x.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,d();case 2:return v=y.sent,v.default.name=u.name,y.abrupt("return",v);case 5:case"end":return y.stop()}},E)}))}u.components.default.name=u.name}})}function ve(){var o=["push","forward","replace",k],t=Object.create(null),r={detail:{}},a=new CustomEvent(fe,r),s=new CustomEvent(he,r);return{enhanceList:o,obj:t,options:r,routeTypeEvent:s,beforeRouteTypeEvent:a}}function xe(o){var t=ve(),r=t.enhanceList,a=t.obj,s=t.options,u=t.routeTypeEvent,h=t.beforeRouteTypeEvent,f=o.history.constructor.prototype,d=o.constructor.prototype;d[k]=function(m){return d.replace(m)},f[k]=function(m){return f.replace(m)};var E=Object.create(null);r.forEach(function(m){a[m]=f[m]||function(){return f.go(1)},E[m]=d[m]||function(){return d.go(1)},f[m]=function(y,T,O){return v(a,m,y,T,O)},d[m]=function(y,T,O){return v(a,m,y,T,O)}});function v(m,y,T,O,S){return s.detail.type=y,s.detail.destroy=T?T.destroy:null,window.dispatchEvent(h),window.dispatchEvent(u),new Promise(function(N){setTimeout(function(){N(m[y].call(o.history,T,O,S))},0)})}return o}function Be(o){var t=ve(),r=t.enhanceList,a=t.obj,s=t.options,u=t.routeTypeEvent,h=t.beforeRouteTypeEvent;o[k]=function(f){return o.replace(f)},r.forEach(function(f){a[f]=o[f],o[f]=function(d){return s.detail.type=f,s.detail.destroy=d?d.destroy:null,window.dispatchEvent(h),window.dispatchEvent(u),a[f](d)}})}var De=function(o){return pe(o),Object.prototype.hasOwnProperty.call(o,"push")?Be(o):xe(o)};function Ie(){var o=this,t=o.$createElement,r=o._self._c||t;return r("keep-alive",{attrs:{include:[].concat(o.includeList),max:o.max,exclude:o.exclude}},[r("router-view")],1)}function Ke(o,t,r,a,s){var u=Ee("router-view");return U(),Y(u,{key:0},{default:Le(function(h){var f=h.Component;return[(U(),Y(be,{include:s.includeList,max:r.max,exclude:r.exclude},[(U(),Y(Te(f)))],1032,["include","max","exclude"]))]}),_:1})}var Ve={watchRoute:function(t){var r=this.getRouteName(t);this.handleMatchClearBehindList(r),this.isForward?this.forward(r):this.back(r),this.handleMatchClearList(t),this.includeList.length===0&&this.includeList.push(r)},forward:function(t){var r=this.includeList;if(r.includes(t)){var a=r.indexOf(t);r.splice(a,1)}r.length===this.max&&r.splice(0,1),r.push(t)},back:function(t){this.includeList.length===1&&(this.includeList=[t]);var r=this.includeList.indexOf(t);r>=0&&this.includeList.splice(r+1)},handelDestroy:function(t){var r=this.destroyTraverse;typeof t=="string"&&t?r(t):Array.isArray(t)&&t.forEach(function(a){return r(a)})},handleMatchClearBehindList:function(t){if(this.matchClearBehindList.includes(t)){var r=this.includeList.indexOf(t);if(r<0)return;this.includeList.splice(r+1)}},handleMatchClearList:function(t){var r=this.matchClearList.indexOf(t.name||t.path);r>=0&&(this.includeList=[])},getRouteName:function(t){var r=t.name,a=t.meta.keepAlive;return this.mode==="allKeepAlive"||a?r:"__"+r},destroyTraverse:function(t){for(var r=this.includeList,a=0;a<r.length;a++)if(t===r[a]){r.splice(a,1);break}},addBeforeRouteChangeEvent:function(){var t=this;window.addEventListener(fe,function(r){var a=r.detail;(a.type===k||a.destroy===Ge)&&(t.includeList=[]),t.handelDestroy(a.destroy)})},addRouteChangeEvent:function(){var t=this;window.addEventListener(he,function(r){var a=r.detail;a.type===k&&(t.includeList=[]),t.isForward=!0,setTimeout(function(){return t.isForward=!1},300)})},addComponentDestroyEvent:function(){var t=this;window.addEventListener(de,function(r){var a=r.detail;t.handelDestroy(a)})}},Q,Me={name:"KeepRouteView",render:function(){return Q.vueNext?Ke.apply(void 0,arguments):Ie.call(Q)},props:{max:{type:Number,default:5},exclude:{type:[Array,RegExp,String],default:function(){return[]}},matchClearList:{type:Array,default:function(){return[]}},matchClearBehindList:{type:Array,default:function(){return[]}},mode:{type:String,default:"allKeepAlive"}},data:function(){return{vueNext:Number(ye.version.slice(0,3))>=3,includeList:[]}},created:function(){this.isForward=!1,this.addBeforeRouteChangeEvent(),this.addRouteChangeEvent(),this.addComponentDestroyEvent(),Q=this},watch:{$route:{immediate:!0,handler:function(t){this.watchRoute(t)}}},methods:Ve};function me(o){return X.apply(this,arguments)}function X(){return X=ce(x.mark(function o(t){var r;return x.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:r=new CustomEvent(de,{detail:t}),window.dispatchEvent(r);case 2:case"end":return s.stop()}},o)})),X.apply(this,arguments)}var ye,He={install:function(t,r){De(r),t.component("KeepRouterView",Me),ye=t;var a={destroy:me};Number(t.version.slice(0,1))<3?t.prototype.$keepRouter=a:t.config.globalProperties.$keepRouter=a}};const we={goodsPageId:""};var Fe=o=>{o.name==="goods"&&o.query.id!==we.goodsPageId&&(we.goodsPageId=o.query.id,me("goods"))};const Ue=[{path:"/",redirect:{name:"user"}},{name:"user",path:"/user",component:()=>J(()=>import("./index.d000d9d0.js"),["assets/index.d000d9d0.js","assets/index.20123ba6.css","assets/index.6502498e.css","assets/index.14a806a9.css","assets/vendor.11e7358a.js","assets/vendor.a9acdaed.css"]),meta:{title:"\u4F1A\u5458\u4E2D\u5FC3"}},{name:"cart",path:"/cart",component:()=>J(()=>import("./index.106e36c1.js"),["assets/index.106e36c1.js","assets/index.a69c578e.css","assets/index.6502498e.css","assets/vendor.11e7358a.js","assets/vendor.a9acdaed.css","assets/index.d24a4421.js","assets/index.02a43f6b.css"]),meta:{title:"\u8D2D\u7269\u8F66"}},{name:"goods",path:"/goods",component:()=>J(()=>import("./index.7eeaf1b8.js"),["assets/index.7eeaf1b8.js","assets/index.ca3d383e.css","assets/index.6502498e.css","assets/index.14a806a9.css","assets/vendor.11e7358a.js","assets/vendor.a9acdaed.css","assets/index.d24a4421.js","assets/index.02a43f6b.css"]),meta:{title:"\u5546\u54C1\u8BE6\u60C5"}}],Z=Oe({routes:Ue,history:Re()});Z.beforeEach((o,t,r)=>{Fe(o);const a=o.meta&&o.meta.title;a&&(document.title=a),r()});var Ye=(o,t)=>{const r=o.__vccOpts||o;for(const[a,s]of t)r[a]=s;return r};const qe={components:{[ne.name]:ne,[oe.name]:oe},data(){return{active:0,showTabbar:!1}},watch:{"$route.name":function(o){this.$route.name==="cart"?this.active=0:this.active=1,this.showTabbar=["cart","user"].includes(o)}},methods:{jump(o){this.$router.replace({name:o})}}},We={id:"app"},ze=ae("\u8D2D\u7269\u8F66"),Je=ae("\u4E2A\u4EBA\u4E2D\u5FC3");function Qe(o,t,r,a,s,u){const h=q("keep-router-view"),f=q("van-tabbar-item"),d=q("van-tabbar");return ie(),Ce("div",We,[W(h),s.showTabbar?(ie(),Ne(d,{key:0,modelValue:s.active,"onUpdate:modelValue":t[2]||(t[2]=E=>s.active=E)},{default:z(()=>[W(f,{icon:"cart",onClick:t[0]||(t[0]=E=>u.jump("cart"))},{default:z(()=>[ze]),_:1}),W(f,{icon:"manager",onClick:t[1]||(t[1]=E=>u.jump("user"))},{default:z(()=>[Je]),_:1})]),_:1},8,["modelValue"])):Pe("",!0)])}var Xe=Ye(qe,[["render",Qe]]);const B=ke(Xe);B.use(Z);B.use(Ae);B.use(He,Z);B.mount("#app");export{Ye as _};
